<h2>Edit Item</h2>

<form {{action "update" on="submit"}}>
  <p>
    <label>Name</label>
    <Input @value={{this.model.name}} required placeholder="Name" />
  </p>

  <p>
    <label>State</label>
    <Input @type="checkbox" @checked={{this.model.state}} />
  </p>

  <p>
    <label>File</label><br>

    <FileUpload @name="file" @accept="image/*" @onfileadd={{fn this.files.upload this.model 'file' false}}>
      {{#if (not-eq this.model.file null)}}
        <img src={{file-url this.model.file}} height="100" alt="...">
      {{else}}
        Upload
      {{/if}}
    </FileUpload>

    {{#if (not-eq this.model.file null)}}
      <button type="button" {{on "click" (fn this.files.unset this.model 'file')}}>
        Unset
      </button>
    {{/if}}
  </p>

  {{#if this.error}}
    <p>{{this.error}}</p>
  {{/if}}

  <p>
    <button type="submit">
      Update
    </button>

    <button type="button" {{action "delete"}}>
      Delete
    </button>
  </p>
</form>